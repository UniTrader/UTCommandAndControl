<?xml version="1.0" encoding="UTF-8"?>
<mdscript xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="UT_CAC_PHQ_CHEAT" xsi:noNamespaceSchemaLocation="http://utnas/~unitrader/XRebirthxsds/md.xsd">
  <cues>
    <cue name="Create_PHQ">
      <actions>
        <find_sector name="$sector" space="player.galaxy" macro="macro.Cluster_B_Sector05_macro" comment="Ascendancy"/>
        <debug_text filter="general" text="'found sector %1 %2'.[$sector,$sector.knownname]"/>
        <!--get_zone_at_position name="$PHQ_Zone" sector="$sector" value="position.[0m,100km,0m]" />
        <debug_text filter="general" text="'found zone %1 %2'.[$PHQ_Zone,$PHQ_Zone.knownname]"/-->
        <create_ship name="$Buildership" macro="macro.units_size_xl_builder_ship_plot_01_macro" sector="$sector">
          <position x="0m" y="75km" z="0m"/>
        </create_ship>
        <debug_text filter="general" text="'created builder Ship %1 %2'.[$Buildership,$Buildership.knownname]"/>
        <set_value name="$PHQ_Zone" exact="$Buildership.zone"/>
        <debug_text filter="general" text="'found zone %1 %2'.[$PHQ_Zone,$PHQ_Zone.knownname]"/>
        <do_all exact="$PHQ_Zone.buildlocations.count" counter="$i">
          <do_if value="$PHQ_Zone.buildlocations.{$i}.offset.x == 0m and$PHQ_Zone.buildlocations.{$i}.offset.y == 0m and $PHQ_Zone.buildlocations.{$i}.offset.z == 0m">
            <set_value name="$buildlocation" exact="$PHQ_Zone.buildlocations.{$i}"/>
           <debug_text filter="general" text="'found buildlocation %1'.[$buildlocation]"/>
          </do_if>
          <do_else>
            <claim_build_location buildlocation="$PHQ_Zone.buildlocations.{$i}" object="$Buildership" comment="disabling all other Build Spots in Zone - the PHQ is BIG"/>
           <debug_text filter="general" text="'claimed buildlocation %1'.[$PHQ_Zone.buildlocations.{$i}]"/>
          </do_else>
        </do_all>
        <get_building_position position="$Buildershipposition" buildlocation="$buildlocation" macro="macro.struct_bt_UT_Omicron_Superyard_macro" object="$Buildership"/>
        <create_station name="$PHQ" macro="macro.struct_bt_UT_Omicron_Superyard_macro" owner="faction.player" sector="$sector">
          <position value="position.[0m,0m,-75km]"/>
          <buildsequence sequence="'A'" stage="1"/>
          <buildsequence sequence="'Dock_A'" stage="1"/>
          <buildsequence sequence="'Dock_B'" stage="1"/>
          <buildsequence sequence="'Dock_C'" stage="1"/>
          <buildsequence sequence="'Dock_D'" stage="1"/>
          <buildsequence sequence="'Dock_E'" stage="1"/>
          <buildsequence sequence="'Dock_F'" stage="1"/>
        </create_station>
        <debug_text filter="general" text="'created Station %1 %2'.[$PHQ,$PHQ.knownname]"/>
        <warp object="$Buildership" zone="$PHQ_Zone">
          <position value="$Buildershipposition"/>
          <orientation orientation="look_at" refobject="$PHQ"/>
        </warp>
        <connect_to_build_location object="$Buildership" buildlocation="$buildlocation"/>
      </actions>
    </cue>
  </cues>
</mdscript>
